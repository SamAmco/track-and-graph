TODO: 
- Docs

QA: 
  - Select function as data source for a graph
  - Select function as data source for a lua graph
  - Removing a function should remove it from any graphs that use it as a data source
  - Removing a data source should remove it from any functions that use it as a data source
  - Adding a function that creates a cycle should be prevented
  - Create nested complex dependent functions and use them in lots of graphs in the same screen and scroll
  - Publish the functions and make sure they work in prod
  - Disable internet and make sure cache hits anyway for functions
  - Double check url navigation is still working because i changed some stuff there
  - Check what happens on signature and network failure when downloading functions
  - Graph using function as data source refreshes with new data point


FUNCTIONS PLANNING

- Duration clustered max
  - Threshold (duration enum)
  - Duration multiplier (uint)
- Duration clustered min
  - Threshold (duration enum)
  - Duration multiplier (uint)
- Duration clustered average
  - Threshold (duration enum)
  - Duration multiplier (uint)
- Duration clustered sum
  - Threshold (duration enum)
  - Duration multiplier (uint)

- Period clustered max
  - Threshold (period enum)
  - Period multiplier (uint)
- Period clustered min
  - Threshold (period enum)
  - Period multiplier (uint)
- Period clustered average
  - Threshold (period enum)
  - Period multiplier (uint)
- Period clustered sum
  - Threshold (period enum)
  - Period multiplier (uint)

- Time cutoff from duration ago
  - Cutoff duration (duration)
- Time cutoff from period ago
  - Cutoff period (period enum)
  - Period multiplier (uint)

- duration based Standard deviation
  - Window size (duration enum)
  - Duration multiplier (uint)
  - Moving window (boolean)
- duration based Variance
  - Window size (duration enum)
  - Duration multiplier (uint)
  - Moving window (boolean)
- duration based Average
  - Window size (duration enum)
  - Duration multiplier (uint)
  - Moving window (boolean)
- duration based Sum
  - Window size (duration enum)
  - Duration multiplier (uint)
  - Moving window (boolean)
- duration based Minimum
  - Window size (duration enum)
  - Duration multiplier (uint)
  - Moving window (boolean)
- duration based Maximum
  - Window size (duration enum)
  - Duration multiplier (uint)
  - Moving window (boolean)

- period based Standard deviation
  - Window size (period enum)
  - period multiplier (uint)
  - Moving window (boolean)
- period based Variance
  - Window size (period enum)
  - period multiplier (uint)
  - Moving window (boolean)
- period based Average
  - Window size (period enum)
  - period multiplier (uint)
  - Moving window (boolean)
- period based Sum
  - Window size (period enum)
  - period multiplier (uint)
  - Moving window (boolean)
- period based Minimum
  - Window size (period enum)
  - period multiplier (uint)
  - Moving window (boolean)
- period based Maximum
  - Window size (period enum)
  - period multiplier (uint)
  - Moving window (boolean)

- Snap to nearest time
  - time (local time)
- Snap to nearest week day
  - day of week (enum)
- Snap to nearest month day
  - day of month (number)
- Snap to next time 
  - time (local time)
- Snap to next week day
  - day of week (enum)
- Snap to next month day
  - day of month (number)
- Snap to next end of period
  - period (enum)

- Filter greater than other tracker
- Filter less than other tracker



Use cases: 

- weight where you have kg and lbs entries in the tracker
- total alcohol consumption per week by merging multiple trackers/labels
- the ratio of one tracker to another over time, e.g. gym to personal best ratio
- the time between events, e.g. time between workouts
- moving averages of weight over time
- filter outliers from weight data
- count of events per week
- combine multiple trackers into one graph
